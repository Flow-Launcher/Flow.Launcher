<UserControl
    x:Class="Flow.Launcher.Plugin.Explorer.Views.ExplorerSettings"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="clr-namespace:Flow.Launcher.Plugin.Explorer.Views.Converters"
    xmlns:core="clr-namespace:Flow.Launcher.Core.Resource;assembly=Flow.Launcher.Core"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:qa="clr-namespace:Flow.Launcher.Plugin.Explorer.Search.QuickAccessLinks"
    xmlns:ui="http://schemas.inkore.net/lib/ui/wpf/modern"
    xmlns:viewModels="clr-namespace:Flow.Launcher.Plugin.Explorer.ViewModels"
    xmlns:views="clr-namespace:Flow.Launcher.Plugin.Explorer.Views"
    d:DataContext="{d:DesignInstance viewModels:SettingsViewModel}"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">

    <UserControl.Resources>
        <Style x:Key="ExplorerTabItem" TargetType="{x:Type TabItem}">
            <Setter Property="MinWidth" Value="120" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TabItem}">
                        <Border
                            x:Name="LayoutRoot"
                            Margin="0"
                            Padding="{TemplateBinding Padding}"
                            SnapsToDevicePixels="True">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <Border
                                    x:Name="TabSeparator"
                                    Width="0"
                                    Margin="0"
                                    HorizontalAlignment="Right"
                                    BorderBrush="{DynamicResource TabViewItemSeparator}"
                                    BorderThickness="1" />

                                <Border
                                    x:Name="TabContainer"
                                    Grid.Column="1"
                                    Padding="10 5"
                                    Background="{DynamicResource Color06B}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}">
                                    <ContentPresenter
                                        x:Name="ContentPresenter"
                                        HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                        ContentSource="Header"
                                        Focusable="False"
                                        RecognizesAccessKey="True"
                                        SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                        TextElement.FontSize="{TemplateBinding FontSize}"
                                        TextElement.FontWeight="{TemplateBinding FontWeight}"
                                        TextElement.Foreground="{DynamicResource Color08B}" />
                                </Border>
                            </Grid>
                        </Border>

                        <ControlTemplate.Triggers>
                            <!--  Default  -->
                            <Trigger Property="IsMouseOver" Value="False">
                                <Setter TargetName="TabContainer" Property="Background" Value="{DynamicResource Color06B}" />
                                <Setter TargetName="ContentPresenter" Property="TextElement.Foreground" Value="{DynamicResource Color08B}" />
                            </Trigger>
                            <!--  PointerOver  -->
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="TabContainer" Property="Background" Value="{DynamicResource Color06B}" />
                                <Setter TargetName="ContentPresenter" Property="TextElement.Foreground" Value="{DynamicResource TabViewItemHeaderForegroundPointerOver}" />
                            </Trigger>
                            <!--  Selected  -->
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="TabContainer" Property="Background" Value="{DynamicResource Color00B}" />
                                <Setter TargetName="ContentPresenter" Property="TextElement.Foreground" Value="{DynamicResource Color05B}" />
                                <Setter Property="Panel.ZIndex" Value="1" />
                                <Setter TargetName="ContentPresenter" Property="TextElement.FontWeight" Value="SemiBold" />
                            </Trigger>
                            <!--  PointerOverSelected  -->
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsMouseOver" Value="True" />
                                    <Condition Property="IsSelected" Value="True" />
                                </MultiTrigger.Conditions>
                                <Setter TargetName="TabContainer" Property="Background" Value="{DynamicResource Color00B}" />
                                <Setter TargetName="ContentPresenter" Property="TextElement.Foreground" Value="{DynamicResource Color05B}" />
                                <Setter Property="Panel.ZIndex" Value="1" />
                                <Setter TargetName="ContentPresenter" Property="TextElement.FontWeight" Value="SemiBold" />
                            </MultiTrigger>
                            <!--  Disabled  -->
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="ContentPresenter" Property="TextElement.Foreground" Value="{DynamicResource TabViewItemHeaderForegroundDisabled}" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <DataTemplate x:Key="ListViewTemplateAccessLinks" DataType="qa:AccessLink">
            <TextBlock Margin="0 5 0 5" Text="{Binding Path, Mode=OneTime}" />
        </DataTemplate>
        <DataTemplate x:Key="ListViewActionKeywords" DataType="{x:Type views:ActionKeywordModel}">
            <Grid>
                <TextBlock
                    Margin="0 5 0 0"
                    IsEnabled="{Binding Enabled}"
                    Text="{Binding Description, Mode=OneTime, Converter={StaticResource TranslationConverter}}">
                    <TextBlock.Style>
                        <Style TargetType="{x:Type TextBlock}">
                            <Style.Triggers>
                                <Trigger Property="IsEnabled" Value="True">
                                    <Setter Property="Foreground" Value="{DynamicResource Color05B}" />
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter Property="Foreground" Value="{DynamicResource Color18B}" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>

                <TextBlock
                    Margin="250 5 0 0"
                    IsEnabled="{Binding Enabled}"
                    Text="{Binding Keyword}">
                    <TextBlock.Style>
                        <Style TargetType="{x:Type TextBlock}">
                            <Style.Triggers>
                                <Trigger Property="IsEnabled" Value="True">
                                    <Setter Property="Foreground" Value="{DynamicResource Color05B}" />
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter Property="Foreground" Value="{DynamicResource Color18B}" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>

                <TextBlock Margin="480 5 0 0">
                    <TextBlock.Style>
                        <Style TargetType="{x:Type TextBlock}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Enabled}" Value="True">
                                    <Setter Property="Text" Value="{DynamicResource plugin_explorer_enabled}" />
                                    <Setter Property="Foreground" Value="{DynamicResource Color05B}" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Enabled}" Value="False">
                                    <Setter Property="Text" Value="{DynamicResource plugin_explorer_disabled}" />
                                    <Setter Property="Foreground" Value="{DynamicResource Color18B}" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
            </Grid>
        </DataTemplate>

        <core:TranslationConverter x:Key="TranslationConverter" />
        <converters:EnumNameConverter x:Key="EnumNameConverter" />
    </UserControl.Resources>

    <Grid Margin="{StaticResource SettingPanelMargin}">
        <!--  Here Margin="-25 0" for TabControl and Margin="25 0" for content in TabItem are trick to force left alignment  -->
        <!--  Since head items in TabControl have additional left-right spacing  -->
        <TabControl
            x:Name="TabView"
            MinHeight="0"
            Margin="-25 -10 0 0"
            Background="{DynamicResource Color00B}"
            BorderThickness="0"
            SelectedIndex="0"
            TabStripPlacement="Top">
            <TabControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <WrapPanel IsItemsHost="True" Orientation="Horizontal" />
                </ItemsPanelTemplate>
            </TabControl.ItemsPanel>
            <TabItem
                Width="Auto"
                Header="{DynamicResource plugin_explorer_generalsetting_header}"
                Style="{DynamicResource ExplorerTabItem}">
                <Grid Margin="25 0">
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition />
                        <RowDefinition />
                        <RowDefinition />
                        <RowDefinition />
                        <RowDefinition />
                        <RowDefinition />
                        <RowDefinition />
                        <RowDefinition />
                        <RowDefinition />
                        <RowDefinition />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <CheckBox
                        Grid.Row="0"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        HorizontalAlignment="Left"
                        Content="{DynamicResource plugin_explorer_use_location_as_working_dir}"
                        IsChecked="{Binding Settings.UseLocationAsWorkingDir}" />

                    <CheckBox
                        Grid.Row="1"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        HorizontalAlignment="Left"
                        Content="{DynamicResource plugin_explorer_default_open_in_file_manager}"
                        IsChecked="{Binding Settings.DefaultOpenFolderInFileManager}" />

                    <TextBlock
                        Grid.Row="2"
                        Grid.Column="0"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Foreground="{DynamicResource Color05B}"
                        Text="{DynamicResource plugin_explorer_file_editor_path}" />
                    <StackPanel
                        Grid.Row="2"
                        Grid.Column="1"
                        Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
                        Orientation="Horizontal">
                        <TextBox
                            Width="{StaticResource SettingPanelPathTextBoxWidth}"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Text="{Binding FileEditorPath}"
                            TextWrapping="NoWrap" />
                        <Button
                            Margin="{StaticResource SettingPanelItemLeftMargin}"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Command="{Binding OpenFileEditorPathCommand}"
                            Content="{DynamicResource select}" />
                    </StackPanel>

                    <TextBlock
                        Grid.Row="3"
                        Grid.Column="0"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Foreground="{DynamicResource Color05B}"
                        Text="{DynamicResource plugin_explorer_folder_editor_path}" />
                    <StackPanel
                        Grid.Row="3"
                        Grid.Column="1"
                        Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
                        Orientation="Horizontal">
                        <TextBox
                            Width="{StaticResource SettingPanelPathTextBoxWidth}"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Text="{Binding FolderEditorPath}"
                            TextWrapping="NoWrap" />
                        <Button
                            Margin="{StaticResource SettingPanelItemLeftMargin}"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Command="{Binding OpenFolderEditorPathCommand}"
                            Content="{DynamicResource select}" />
                    </StackPanel>

                    <TextBlock
                        Grid.Row="4"
                        Grid.Column="0"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Foreground="{DynamicResource Color05B}"
                        Text="{DynamicResource plugin_explorer_shell_path}" />
                    <StackPanel
                        Grid.Row="4"
                        Grid.Column="1"
                        Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
                        Orientation="Horizontal">
                        <TextBox
                            Width="{StaticResource SettingPanelPathTextBoxWidth}"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Text="{Binding ShellPath}"
                            TextWrapping="NoWrap" />
                        <Button
                            Margin="{StaticResource SettingPanelItemLeftMargin}"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Command="{Binding OpenShellPathCommand}"
                            Content="{DynamicResource select}" />
                    </StackPanel>

                    <TextBlock
                        Grid.Row="5"
                        Grid.Column="0"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        VerticalAlignment="Center"
                        Foreground="{DynamicResource Color05B}"
                        Text="{DynamicResource plugin_explorer_Index_Search_Engine}" />
                    <ComboBox
                        Grid.Row="5"
                        Grid.Column="1"
                        Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        DisplayMemberPath="Description"
                        ItemsSource="{Binding IndexSearchEngines}"
                        SelectedItem="{Binding SelectedIndexSearchEngine}" />

                    <TextBlock
                        Grid.Row="6"
                        Grid.Column="0"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        VerticalAlignment="Center"
                        Foreground="{DynamicResource Color05B}"
                        Text="{DynamicResource plugin_explorer_Content_Search_Engine}" />
                    <ComboBox
                        Grid.Row="6"
                        Grid.Column="1"
                        Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        DisplayMemberPath="Description"
                        ItemsSource="{Binding ContentIndexSearchEngines}"
                        SelectedItem="{Binding SelectedContentSearchEngine}" />

                    <TextBlock
                        Grid.Row="7"
                        Grid.Column="0"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        VerticalAlignment="Center"
                        Foreground="{DynamicResource Color05B}"
                        Text="{DynamicResource plugin_explorer_Directory_Recursive_Search_Engine}" />
                    <ComboBox
                        Grid.Row="7"
                        Grid.Column="1"
                        Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        DisplayMemberPath="Description"
                        ItemsSource="{Binding PathEnumerationEngines}"
                        SelectedItem="{Binding SelectedPathEnumerationEngine}" />

                    <TextBlock
                        Grid.Row="8"
                        Grid.Column="0"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        VerticalAlignment="Center"
                        Foreground="{DynamicResource Color05B}"
                        Text="{DynamicResource plugin_explorer_Excluded_File_Types}" />
                    <TextBox
                        Grid.Row="8"
                        Grid.Column="1"
                        MinWidth="{StaticResource SettingPanelTextBoxMinWidth}"
                        Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
                        HorizontalAlignment="Left"
                        Text="{Binding ExcludedFileTypes}"
                        ToolTip="{DynamicResource plugin_explorer_Excluded_File_Types_Tooltip}" />

                    <TextBlock
                        Grid.Row="9"
                        Grid.Column="0"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        VerticalAlignment="Center"
                        Foreground="{DynamicResource Color05B}"
                        Text="{DynamicResource plugin_explorer_Maximum_Results}" />
                    <TextBox
                        Grid.Row="9"
                        Grid.Column="1"
                        MinWidth="{StaticResource SettingPanelTextBoxMinWidth}"
                        Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        MaxLength="6"
                        PreviewTextInput="AllowOnlyNumericInput"
                        Text="{Binding MaxResult}"
                        ToolTip="{DynamicResource plugin_explorer_Maximum_Results_Tooltip}" />

                    <Button
                        Grid.Row="10"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        Click="btnOpenIndexingOptions_Click"
                        Content="{DynamicResource plugin_explorer_Open_Window_Index_Option}" />
                </Grid>
            </TabItem>
            <TabItem
                Width="Auto"
                Header="{DynamicResource plugin_explorer_native_context_menu_header}"
                Style="{DynamicResource ExplorerTabItem}">
                <Grid Margin="25 0">
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition />
                        <RowDefinition />
                        <RowDefinition />
                        <RowDefinition />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <CheckBox
                        Grid.Row="0"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        Content="{DynamicResource plugin_explorer_native_context_menu_display_context_menu}"
                        IsChecked="{Binding ShowWindowsContextMenu}" />

                    <TextBlock
                        Grid.Row="1"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        Foreground="{DynamicResource Color05B}"
                        Text="{DynamicResource plugin_explorer_native_context_menu_include_patterns_guide}"
                        TextWrapping="Wrap" />

                    <TextBox
                        Grid.Row="2"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        MinHeight="{StaticResource SettingPanelAreaTextBoxMinHeight}"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        HorizontalAlignment="Stretch"
                        AcceptsReturn="True"
                        Text="{Binding WindowsContextMenuIncludedItems}"
                        TextWrapping="Wrap" />

                    <TextBlock
                        Grid.Row="3"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        Foreground="{DynamicResource Color05B}"
                        Text="{DynamicResource plugin_explorer_native_context_menu_exclude_patterns_guide}"
                        TextWrapping="Wrap" />

                    <TextBox
                        Grid.Row="4"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        MinHeight="{StaticResource SettingPanelAreaTextBoxMinHeight}"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        HorizontalAlignment="Stretch"
                        AcceptsReturn="True"
                        Text="{Binding WindowsContextMenuExcludedItems}"
                        TextWrapping="Wrap" />
                </Grid>
            </TabItem>
            <TabItem
                Width="Auto"
                Header="{DynamicResource plugin_explorer_previewpanel_setting_header}"
                Style="{DynamicResource ExplorerTabItem}">
                <Grid Margin="25 0">
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <DockPanel
                        Grid.Row="0"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        HorizontalAlignment="Stretch"
                        LastChildFill="True">
                        <TextBlock
                            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                            VerticalAlignment="Center"
                            Foreground="{DynamicResource Color05B}"
                            Text="{DynamicResource plugin_explorer_previewpanel_file_info_label}" />
                        <WrapPanel
                            Width="Auto"
                            HorizontalAlignment="Right"
                            DockPanel.Dock="Right">
                            <CheckBox
                                Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
                                Content="{DynamicResource plugin_explorer_previewpanel_display_file_size_checkbox}"
                                IsChecked="{Binding ShowFileSizeInPreviewPanel}" />
                            <CheckBox
                                Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
                                Content="{DynamicResource plugin_explorer_previewpanel_display_file_creation_checkbox}"
                                IsChecked="{Binding ShowCreatedDateInPreviewPanel}" />
                            <CheckBox
                                Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
                                Content="{DynamicResource plugin_explorer_previewpanel_display_file_modification_checkbox}"
                                IsChecked="{Binding ShowModifiedDateInPreviewPanel}" />
                            
                            <CheckBox
                                Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
                                Content="{DynamicResource plugin_explorer_previewpanel_display_file_age_checkbox}"
                                IsChecked="{Binding ShowFileAgeInPreviewPanel}" />
                        </WrapPanel>
                    </DockPanel>

                    <DockPanel
                        Grid.Row="1"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        HorizontalAlignment="Stretch"
                        LastChildFill="True">
                        <TextBlock
                            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                            VerticalAlignment="Center"
                            Foreground="{DynamicResource Color05B}"
                            IsEnabled="{Binding ShowPreviewPanelDateTimeChoices}"
                            Text="{DynamicResource plugin_explorer_previewpanel_date_and_time_format_label}"
                            Visibility="{Binding PreviewPanelDateTimeChoicesVisibility}" />
                        <WrapPanel
                            Width="Auto"
                            HorizontalAlignment="Right"
                            DockPanel.Dock="Right"
                            IsEnabled="{Binding ShowPreviewPanelDateTimeChoices}"
                            Visibility="{Binding PreviewPanelDateTimeChoicesVisibility}">
                            <StackPanel Margin="{StaticResource SettingPanelItemTopBottomMargin}" Orientation="Horizontal">
                                <ComboBox
                                    Margin="{StaticResource SettingPanelItemLeftMargin}"
                                    ItemsSource="{Binding DateFormatList}"
                                    SelectedItem="{Binding PreviewPanelDateFormat}" />
                                <TextBlock
                                    Margin="{StaticResource SettingPanelItemLeftMargin}"
                                    VerticalAlignment="Center"
                                    Foreground="{DynamicResource Color05B}"
                                    Text="{Binding PreviewPanelDateFormatDemo}" />
                            </StackPanel>
                            <StackPanel Margin="{StaticResource SettingPanelItemTopBottomMargin}" Orientation="Horizontal">
                                <ComboBox
                                    Margin="{StaticResource SettingPanelItemLeftMargin}"
                                    ItemsSource="{Binding TimeFormatList}"
                                    SelectedItem="{Binding PreviewPanelTimeFormat}" />
                                <TextBlock
                                    Margin="{StaticResource SettingPanelItemLeftMargin}"
                                    VerticalAlignment="Center"
                                    Foreground="{DynamicResource Color05B}"
                                    Text="{Binding PreviewPanelTimeFormatDemo}" />
                            </StackPanel>
                        </WrapPanel>
                    </DockPanel>
                </Grid>
            </TabItem>
            <TabItem
                Width="Auto"
                Header="{DynamicResource plugin_explorer_everything_setting_header}"
                Style="{DynamicResource ExplorerTabItem}">
                <Grid Margin="25 0">
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition />
                        <RowDefinition />
                        <RowDefinition />
                        <RowDefinition />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <CheckBox
                        Grid.Row="0"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        HorizontalAlignment="Left"
                        Content="{DynamicResource flowlauncher_plugin_everything_search_fullpath}"
                        IsChecked="{Binding Settings.EverythingSearchFullPath}" />

                    <CheckBox
                        Grid.Row="1"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        HorizontalAlignment="Left"
                        Content="{DynamicResource flowlauncher_plugin_everything_enable_run_count}"
                        IsChecked="{Binding Settings.EverythingEnableRunCount}" />

                    <TextBlock
                        Grid.Row="2"
                        Grid.Column="0"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        VerticalAlignment="Center"
                        Foreground="{DynamicResource Color05B}"
                        Text="{DynamicResource plugin_explorer_everything_sort_option}" />
                    <ComboBox
                        Grid.Row="2"
                        Grid.Column="1"
                        Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
                        VerticalAlignment="Center"
                        ItemsSource="{Binding Settings.SortOptions, Mode=OneWay}"
                        SelectedItem="{Binding Settings.SortOption}"
                        SelectionChanged="EverythingSortOptionChanged">
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <Grid>
                                    <TextBlock Text="{Binding Converter={StaticResource EnumNameConverter}}" />
                                </Grid>
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>

                    <TextBlock
                        Grid.Row="3"
                        Grid.Column="0"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        VerticalAlignment="Center"
                        Foreground="{DynamicResource Color05B}"
                        Text="{DynamicResource plugin_explorer_everything_installed_path}" />
                    <TextBox
                        Grid.Row="3"
                        Grid.Column="1"
                        Width="{StaticResource SettingPanelPathTextBoxWidth}"
                        Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
                        HorizontalAlignment="Left"
                        Text="{Binding EverythingInstalledPath}" />

                    <TextBlock
                        Name="tbFastSortWarning"
                        Grid.Row="4"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        VerticalAlignment="Center"
                        Foreground="Orange"
                        Text="{Binding SortOptionWarningMessage, Mode=OneTime}"
                        TextAlignment="Left"
                        TextWrapping="Wrap"
                        Visibility="{Binding FastSortWarningVisibility, Mode=OneTime}" />
                </Grid>
            </TabItem>
            <TabItem
                Width="Auto"
                Header="{DynamicResource plugin_explorer_manageactionkeywords_header}"
                Style="{DynamicResource ExplorerTabItem}">
                <Grid Margin="25 0">
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Border
                        Grid.Row="0"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        HorizontalAlignment="Stretch"
                        BorderBrush="{DynamicResource PopupButtonAreaBorderColor}"
                        BorderThickness="1">
                        <ListView
                            ItemTemplate="{StaticResource ListViewActionKeywords}"
                            ItemsSource="{Binding ActionKeywordsModels}"
                            SelectedItem="{Binding SelectedActionKeyword}" />
                    </Border>

                    <StackPanel
                        Grid.Row="1"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        HorizontalAlignment="Right"
                        Orientation="Horizontal">
                        <Button
                            MinWidth="100"
                            Command="{Binding EditActionKeywordCommand}"
                            Content="{DynamicResource plugin_explorer_edit}" />
                    </StackPanel>
                </Grid>
            </TabItem>
            <TabItem
                Name="expAccessLinks"
                Width="Auto"
                Header="{DynamicResource plugin_explorer_quickaccesslinks_header}"
                Style="{DynamicResource ExplorerTabItem}">
                <Grid Margin="25 0">
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Border
                        Grid.Row="0"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        HorizontalAlignment="Stretch"
                        BorderBrush="{DynamicResource PopupButtonAreaBorderColor}"
                        BorderThickness="1">
                        <ListView
                            x:Name="lbxAccessLinks"
                            Height="200"
                            AllowDrop="True"
                            BorderThickness="1"
                            DragEnter="lbxAccessLinks_DragEnter"
                            Drop="LbxAccessLinks_OnDrop"
                            ItemTemplate="{StaticResource ListViewTemplateAccessLinks}"
                            ItemsSource="{Binding Settings.QuickAccessLinks}"
                            SelectedItem="{Binding SelectedQuickAccessLink}" />
                    </Border>

                    <StackPanel
                        Grid.Row="1"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        HorizontalAlignment="Right"
                        Orientation="Horizontal">
                        <Button
                            MinWidth="100"
                            Command="{Binding RemoveLinkCommand}"
                            CommandParameter="QuickAccessLink"
                            Content="{DynamicResource plugin_explorer_delete}" />
                        <Button
                            MinWidth="100"
                            Margin="{StaticResource SettingPanelItemLeftMargin}"
                            Command="{Binding EditLinkCommand}"
                            CommandParameter="QuickAccessLink"
                            Content="{DynamicResource plugin_explorer_edit}" />
                        <Button
                            MinWidth="100"
                            Margin="{StaticResource SettingPanelItemLeftMargin}"
                            Command="{Binding AddLinkCommand}"
                            CommandParameter="QuickAccessLink"
                            Content="{DynamicResource plugin_explorer_add}" />
                    </StackPanel>
                </Grid>
            </TabItem>
            <TabItem
                Width="Auto"
                Header="{DynamicResource plugin_explorer_indexsearchexcludedpaths_header}"
                Style="{DynamicResource ExplorerTabItem}">
                <Grid Margin="25 0">
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Border
                        Grid.Row="0"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        HorizontalAlignment="Stretch"
                        BorderBrush="{DynamicResource PopupButtonAreaBorderColor}"
                        BorderThickness="1">
                        <ListView
                            Name="lbxExcludedPaths"
                            Height="200"
                            AllowDrop="True"
                            DragEnter="lbxAccessLinks_DragEnter"
                            Drop="LbxExcludedPaths_OnDrop"
                            ItemTemplate="{StaticResource ListViewTemplateAccessLinks}"
                            ItemsSource="{Binding Settings.IndexSearchExcludedSubdirectoryPaths}"
                            SelectedItem="{Binding SelectedIndexSearchExcludedPath}" />
                    </Border>

                    <StackPanel
                        Grid.Row="1"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Margin="{StaticResource SettingPanelItemTopBottomMargin}"
                        HorizontalAlignment="Right"
                        Orientation="Horizontal">
                        <Button
                            MinWidth="100"
                            Command="{Binding RemoveLinkCommand}"
                            CommandParameter="IndexSearchExcludedPaths"
                            Content="{DynamicResource plugin_explorer_delete}" />
                        <Button
                            MinWidth="100"
                            Margin="{StaticResource SettingPanelItemLeftMargin}"
                            Command="{Binding EditLinkCommand}"
                            CommandParameter="IndexSearchExcludedPaths"
                            Content="{DynamicResource plugin_explorer_edit}" />
                        <Button
                            MinWidth="100"
                            Margin="{StaticResource SettingPanelItemLeftMargin}"
                            Command="{Binding AddLinkCommand}"
                            CommandParameter="IndexSearchExcludedPaths"
                            Content="{DynamicResource plugin_explorer_add}" />
                    </StackPanel>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</UserControl>
